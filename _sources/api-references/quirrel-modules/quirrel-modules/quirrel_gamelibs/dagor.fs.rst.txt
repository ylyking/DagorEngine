.. autogenerated

********
dagor.fs
********

module 'dagor.fs'



*Source file: prog/gameLibs/quirrel/bindQuirrelEx/dagorFS.cpp*

Usage::

  let { , file_exists, dir_exists, mkdir, mkpath, scan_folder, find_files, read_text_from_file, read_text_from_file_on_disk, stat } = require("dagor.fs")

or::

  from "dagor.fs" import *

.. code-block:: sq

  //'dagor.fs' exports:
  {
    warning 
    function file_exists(path): string -> bool
    function dir_exists(path): string -> bool
    function mkdir(path): string -> bool
    function mkpath(path): string -> bool
    function scan_folder({root, vromfs, realfs, recursive, files_suffix, directories_only}): table -> array
    function find_files(file_mask, params): string, table -> array
    function read_text_from_file(arg0): string -> string
    function read_text_from_file_on_disk(arg0): string -> string
    function stat(filename): string -> table|null
  }
  




.. warning::

  All functions in this module are sync.
  Better never use them in production code, cause this can cause freeze and fps stutter (and usually will).



.. sq:function:: function file_exists(path)

  :param path:  
  :type path: string

  :return: bool

.. sq:function:: function dir_exists(path)

  :param path:  
  :type path: string

  :return: bool

.. sq:function:: function mkdir(path)

  :param path:  
  :type path: string

  :return: bool

.. sq:function:: function mkpath(path)

  :param path:  
  :type path: string

  :return: bool

.. sq:function:: function scan_folder({root, vromfs, realfs, recursive, files_suffix, directories_only})

  :param root: where to start scan
  :type root: string

  :param vromfs: scan in vromfs
  :type vromfs: bool

  :param realfs: scan in real file system
  :type realfs: bool

  :param recursive: scan in real file system
  :type recursive: bool

  :param files_suffix: suffix of files to be included in result
  :type files_suffix: string

  :param directories_only: return only directories (works for realfs only)
  :type directories_only: bool

  ``nparamscheck:2``

  ``typecheck mask: any_type, table``

  ``Function is kwarged - arguments passed in a table``

  :return: array of found files with path on root
  :rtype: array





.. sq:function:: function find_files(file_mask, params)

  :param file_mask: file mask like *.nut or foo/some.nut
  :type file_mask: string

  :param params: table of params, the only possible param is {maxCount:i = -1} (-1 is default, means no limit)
  :type params: table

  ``nparamscheck:-2``

  ``typecheck mask: any_type, string, table``

  :return: array of file_info
  :rtype: array




.. code-block:: file_info
    :caption: file_info
    

    {name:s, isDirectory:b, isReadOnly:b, isHidden:b, size:i, accessTime:i, modifyTime:i}



.. sq:function:: function read_text_from_file(arg0)

  :param arg0: autodoc from typemask/paramscheck
  :type arg0: string

  ``nparamscheck:2``

  ``typecheck mask: any_type, string``

  :return: file as string
  :rtype: string


    will open file from in VROMS only in some cases (on platforms different then PC, on not allowed modding)


.. sq:function:: function read_text_from_file_on_disk(arg0)

  :param arg0: autodoc from typemask/paramscheck
  :type arg0: string

  ``nparamscheck:2``

  ``typecheck mask: any_type, string``

  :return: file as string
  :rtype: string


    will open file from disk only


.. sq:function:: function stat(filename)

  :param filename: path to file to get info
  :type filename: string

  ``nparamscheck:2``

  ``typecheck mask: any_type, string``

  :return: file_stat or or null if file not found
  :rtype: table|null




.. code-block:: file_stat
    :caption: file_stat
    

    {size:i, atime:i, mtime:i, ctime:i}


/;

  module_mgr->addNativeModule("dagor.fs", exports);
}


void register_dagor_fs_vrom_module(SqModules *module_mgr)
{
  HSQUIRRELVM vm = module_mgr->getVM();
  Sqrat::Table exports(vm);

  


