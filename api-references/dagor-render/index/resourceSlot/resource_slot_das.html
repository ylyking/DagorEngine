<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resource slot in das &mdash; Dagor Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../../_static/gaijin.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../_static/js/hoverxref.js"></script>
        <script src="../../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../../_static/js/micromodal.min.js"></script>
        <script src="../../../../_static/js/versionwarning.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="../../../../_static/design-tabs.js"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="ResourceSlotCore das module" href="ResourceSlotCore.html" />
    <link rel="prev" title="Resource slot in das+ecs" href="resource_slot_ecs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../../../_static/gaijin_round_blur.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API References and Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Dagor Engine Render</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../d3dAPI.html">D3D API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../d3dHelpers.html">Helper classes for D3D API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../daBFG.html">daBFG API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../resMgr.html">Managed Resources</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../resourceSlot.html">Resource slots</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="registerAccess.html">Register request for access to slots storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="nodeHandleWithSlotsAccess.html">Node and slot access handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="resolveAccess.html">Perform access requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="resource_slot_ecs.html">Resource slot in das+ecs</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Resource slot in das</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l5"><a class="reference internal" href="#register-access">Register access</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="ResourceSlotCore.html">ResourceSlotCore das module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../quirrel-modules/index.html">Quirrel Modules Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dagor-engine-docs/index.html">Engine Libraries Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dagor-ecs/index.html">Dagor ECS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../dagor-dshl/index.html">Dagor Shading Language (DSHL) docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../samples/index.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dagor-tools/index.html">Dagor Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../assets/index.html">Assets and Assets Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../danetgame-framework/index.html">DaNetGame Framework</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API References and Documentation</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Dagor Engine Render</a></li>
          <li class="breadcrumb-item"><a href="../resourceSlot.html">Resource slots</a></li>
      <li class="breadcrumb-item active">Resource slot in das</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/api-references/dagor-render/index/resourceSlot/resource_slot_das.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="resource-slot-in-das">
<span id="stdlib-resource-slot"></span><h1>Resource slot in das<a class="headerlink" href="#resource-slot-in-das" title="Permalink to this heading"></a></h1>
<p>Storing in <a class="reference internal" href="resource_slot_ecs.html#stdlib-resource-slot-ecs"><span class="std std-ref">das+ecs</span></a> is more convenient.</p>
<p>However, we can store <a class="reference internal" href="ResourceSlotCore.html#handle-resourceslotcore-nodehandlewithslotsaccess"><span class="std std-ref">NodeHandleWithSlotsAccess</span></a> outside ecs with <cite>daBfg.resource_slot</cite> module.</p>
<p>Unfortunately, NodeHandleWithSlotsAccess can’t be stored in local
das variable, because das doesn’t call destructors for local types.
If you really need to store handle outside ecs, you have to store
handle in heap or make binding for storing it on cpp-side.</p>
<p>Also hot-reload will work automatically for nodes inside
<a class="reference internal" href="resource_slot_ecs.html#stdlib-resource-slot-ecs"><span class="std std-ref">ecs</span></a>.</p>
<div class="highlight-das notranslate"><div class="highlight"><pre><span></span>require daBfg.resource_slot

some_cpp_binding &lt;| $(var handle : NodeHandleWithSlotsAccess &amp;)
  some_struct.handle &lt;- root() |&gt; registerAccess(&quot;node_name&quot;, [[SlotActions update &lt;- [{auto Update(&quot;slot_name&quot;, &quot;texture_name&quot;, 100)}] ]]) &lt;| @(slots_state; var registry : Registry)

    return &lt;- @ &lt;|
      // some render code
</pre></div>
</div>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this heading"></a></h2>
<span class="target" id="global-resource-slot-default-read-priority"></span><dl class="das attribute">
<dt class="sig sig-object das" id="DEFAULT_READ_PRIORITY = 2147483647">
<span class="sig-name descname"><span class="pre">DEFAULT_READ_PRIORITY</span> <span class="pre">=</span> <span class="pre">2147483647</span></span><a class="headerlink" href="#DEFAULT_READ_PRIORITY = 2147483647" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p><a href="#id1"><span class="problematic" id="id2">|variable-resource_slot-DEFAULT_READ_PRIORITY|</span></a></p>
<span class="target" id="struct-resource-slot-create"></span><dl class="das attribute">
<dt class="sig sig-object das" id="Create">
<span class="sig-name descname"><span class="pre">Create</span></span><a class="headerlink" href="#Create" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Create fields are</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td rowspan="2"><p>slot</p></td>
<td rowspan="2"><p>string</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>resource</p></td>
<td rowspan="2"><p>string</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p><a href="#id3"><span class="problematic" id="id4">|structure-resource_slot-Create|</span></a></p>
<span class="target" id="struct-resource-slot-update"></span><dl class="das attribute">
<dt class="sig sig-object das" id="Update">
<span class="sig-name descname"><span class="pre">Update</span></span><a class="headerlink" href="#Update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Update fields are</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td rowspan="2"><p>slot</p></td>
<td rowspan="2"><p>string</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>resource</p></td>
<td rowspan="2"><p>string</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>priority</p></td>
<td rowspan="2"><p>int</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p><a href="#id5"><span class="problematic" id="id6">|structure-resource_slot-Update|</span></a></p>
<span class="target" id="struct-resource-slot-read"></span><dl class="das attribute">
<dt class="sig sig-object das" id="Read">
<span class="sig-name descname"><span class="pre">Read</span></span><a class="headerlink" href="#Read" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Read fields are</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td rowspan="2"><p>slot</p></td>
<td rowspan="2"><p>string</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>priority</p></td>
<td rowspan="2"><p>int</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p><a href="#id7"><span class="problematic" id="id8">|structure-resource_slot-Read|</span></a></p>
<span class="target" id="struct-resource-slot-slotactions"></span><dl class="das attribute">
<dt class="sig sig-object das" id="SlotActions">
<span class="sig-name descname"><span class="pre">SlotActions</span></span><a class="headerlink" href="#SlotActions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>SlotActions fields are</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td rowspan="2"><p>create</p></td>
<td rowspan="2"><p>array&lt; <a class="reference internal" href="#struct-resource-slot-create"><span class="std std-ref">resource_slot::Create</span></a> &gt;</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>update</p></td>
<td rowspan="2"><p>array&lt; <a class="reference internal" href="#struct-resource-slot-update"><span class="std std-ref">resource_slot::Update</span></a> &gt;</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>read</p></td>
<td rowspan="2"><p>array&lt; <a class="reference internal" href="#struct-resource-slot-read"><span class="std std-ref">resource_slot::Read</span></a> &gt;</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p><a href="#id9"><span class="problematic" id="id10">|structure-resource_slot-SlotActions|</span></a></p>
</section>
<section id="register-access">
<h2>Register access<a class="headerlink" href="#register-access" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#function-at-resource-slot-c-c-registeraccess-s-ls-dabfg-c-c-namespace-gr-cs-cs-ls-resource-slot-c-c-slotactions-gr-n-ls-slots-state-reg-gr-0-ls-ch-ls-resourceslotcore-c-c-state-gr-s-ls-dabfg-c-c-registry-gr-gr-1-ls-1-ls-v-gr-at-gr-at"><span class="std std-ref">registerAccess (self:daBfg::NameSpace -const;name:string const;slot_decl:resource_slot::SlotActions const;declaration_callback:lambda&lt;(slots_state:ResourceSlotCore::State const;var reg:daBfg::Registry -const):lambda&lt;void&gt;&gt; -const) : ResourceSlotCore::NodeHandleWithSlotsAccess</span></a></p></li>
</ul>
</div></blockquote>
<span class="target" id="function-at-resource-slot-c-c-registeraccess-s-ls-dabfg-c-c-namespace-gr-cs-cs-ls-resource-slot-c-c-slotactions-gr-n-ls-slots-state-reg-gr-0-ls-ch-ls-resourceslotcore-c-c-state-gr-s-ls-dabfg-c-c-registry-gr-gr-1-ls-1-ls-v-gr-at-gr-at"></span><dl class="das function">
<dt class="sig sig-object das" id="registerAccess">
<span class="sig-name descname"><span class="pre">registerAccess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self:</span> <span class="pre">NameSpace;</span> <span class="pre">name:</span> <span class="pre">string</span> <span class="pre">const;</span> <span class="pre">slot_decl:</span> <span class="pre">SlotActions</span> <span class="pre">const;</span> <span class="pre">declaration_callback:</span> <span class="pre">lambda&lt;(slots_state:ResourceSlotCore::State</span> <span class="pre">const;var</span> <span class="pre">reg:daBfg::Registry</span> <span class="pre">-const):lambda&lt;void&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#registerAccess" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>registerAccess returns  <a class="reference internal" href="ResourceSlotCore.html#handle-resourceslotcore-nodehandlewithslotsaccess"><span class="std std-ref">ResourceSlotCore::NodeHandleWithSlotsAccess</span></a></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>argument</p></th>
<th class="head" rowspan="2"><p>argument type</p></th>
</tr>
<tr class="row-even"></tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="2"><p>self</p></td>
<td rowspan="2"><p><a class="reference internal" href="../daBFG/das.html#struct-dabfg-namespace"><span class="std std-ref">daBfg::NameSpace</span></a></p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>name</p></td>
<td rowspan="2"><p>string const</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>slot_decl</p></td>
<td rowspan="2"><p><a class="reference internal" href="#struct-resource-slot-slotactions"><span class="std std-ref">resource_slot::SlotActions</span></a>  const</p></td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td rowspan="2"><p>declaration_callback</p></td>
<td rowspan="2"><p>lambda&lt;(slots_state: <a class="reference internal" href="ResourceSlotCore.html#handle-resourceslotcore-state"><span class="std std-ref">ResourceSlotCore::State</span></a>  const;reg: <a class="reference internal" href="../daBFG/das.html#struct-dabfg-registry"><span class="std std-ref">daBfg::Registry</span></a> ):lambda&lt;&gt;&gt;</p></td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p><a href="#id11"><span class="problematic" id="id12">|function-resource_slot-registerAccess|</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="resource_slot_ecs.html" class="btn btn-neutral float-left" title="Resource slot in das+ecs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ResourceSlotCore.html" class="btn btn-neutral float-right" title="ResourceSlotCore das module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2024.
      <span class="lastupdated">Last updated on Dec 31, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>