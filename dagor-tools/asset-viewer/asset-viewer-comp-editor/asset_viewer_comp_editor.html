<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; Dagor Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx_rtd_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../_static/gaijin.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/js/hoverxref.js"></script>
        <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../_static/js/micromodal.min.js"></script>
        <script src="../../../_static/js/versionwarning.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Collision Generation for Assets" href="../collision-generation/index.html" />
    <link rel="prev" title="Asset Viewer Composite Editor" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../../_static/gaijin_round_blur.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api-references/index.html">API References and Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples/index.html">Samples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Dagor Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../blk/index.html">.blk Format</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Asset Viewer</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../asset-viewer/index.html">Asset Viewer</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Asset Viewer Composite Editor</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-to-find-it">Where to Find It</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-new-composite">Creating a New Composite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#composite-editor-interface">Composite Editor Interface</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#composite-outliner">Composite Outliner</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#identifying-random-nodes">Identifying Random Nodes</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#editor-properties">Editor Properties</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#entities">Entities</a></li>
<li class="toctree-l6"><a class="reference internal" href="#children">Children</a></li>
<li class="toctree-l6"><a class="reference internal" href="#node-parameters">Node Parameters</a></li>
<li class="toctree-l6"><a class="reference internal" href="#add-parameters">Add Parameters</a></li>
<li class="toctree-l6"><a class="reference internal" href="#composit">Composit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#visual-editing">Visual Editing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../collision-generation/index.html">Collision Generation for Assets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../daeditor/index.html">daEditor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dag2rires/index.html">dag2riRes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../impostor-baker/index.html">Impostor Baker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../levels-deps/index.html">levels.deps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resource-building/index.html">Resource Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../substance-designer/index.html">Substance Designer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../addons/index.html">Add-ons for Blender and 3ds Max</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shader-compiler/index.html">Shader Compiler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../assets/index.html">Assets and Assets Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../danetgame-framework/index.html">DaNetGame Framework</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Dagor Tools</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Asset Viewer</a></li>
          <li class="breadcrumb-item"><a href="index.html">Asset Viewer Composite Editor</a></li>
      <li class="breadcrumb-item active">Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/dagor-tools/asset-viewer/asset-viewer-comp-editor/asset_viewer_comp_editor.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Before proceeding, it‚Äôs strongly recommend familiarizing yourself with the main
article on the <a class="reference internal" href="../../../assets/all-about-blk/composit_blk.html"><span class="std std-doc">structure of
composites</span></a>. The editor is
currently under development, so you may encounter bugs, and this documentation
could quickly become outdated.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="where-to-find-it">
<h1>Where to Find It<a class="headerlink" href="#where-to-find-it" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>You can now edit composites directly from the <em>Asset Viewer</em>. To enable the
<em>Composite Editor</em>, navigate to the <strong>View</strong> menu:</p>
<p><img alt="Where to Find It" src="../../../_images/av_comp_edit_01.jpg" /></p>
<p>If you prefer the editor to open automatically when a composite is selected in
the Asset Tree and close when any other type of object is selected, you can
enable this option in the <strong>Settings</strong>:</p>
<p><img alt="Where to Find It" src="../../../_images/av_comp_edit_02.jpg" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>Composite Editor</em> is still under development, and it may significantly
impact performance when working with large composites that have many nested
elements. This is especially relevant, for example, for houses with complex
indoor structures in <em>daNetGame-based</em> games. For this reason, the auto-open
option is disabled by default. Use it at your own risk.</p>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="creating-a-new-composite">
<h1>Creating a New Composite<a class="headerlink" href="#creating-a-new-composite" title="Permalink to this heading">ÔÉÅ</a></h1>
<ol class="arabic simple">
<li><p>In the <strong>Asset Tree</strong>, select the directory where you want to place the
composite.</p></li>
<li><p>Right-click and select <strong>Create new composite asset</strong> from the context menu.</p></li>
</ol>
<p><img alt="Creating a New Composite" src="../../../_images/av_comp_edit_03.jpg" /></p>
<ol class="arabic simple" start="3">
<li><p>In the pop-up window, enter the desired name, making sure to follow the
naming conventions (refer to the main article). If an asset with this name
already exists, a warning will be displayed when you attempt to create it.</p></li>
</ol>
<p><img alt="Creating a New Composite" src="../../../_images/av_comp_edit_04.jpg" /></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="composite-editor-interface">
<h1>Composite Editor Interface<a class="headerlink" href="#composite-editor-interface" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>The interface is divided into two main sections: <strong>Outliner</strong> and <strong>Properties</strong>.</p>
<p><img alt="Composite Editor Interface" src="../../../_images/av_comp_edit_05.jpg" /></p>
<section id="composite-outliner">
<h2>Composite Outliner<a class="headerlink" href="#composite-outliner" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>The <strong>Composite Outliner</strong> functions similarly to the <strong>Asset Tree</strong> but is
specific to composites. The composite itself serves as the ‚Äúroot‚Äù of the
structure.</p>
<p>When you create a new composite, it will initially contain only the root block
with its name. To add a new node, click on this sole element and select <strong>Add
Node</strong> from the context menu.</p>
<p>A newly created node does not contain any parameters, making it equivalent to an
empty <code class="docutils literal notranslate"><span class="pre">node{}</span></code>.</p>
<p>Through the context menu, you can define the type of the node:</p>
<ul class="simple">
<li><p><strong>‚ÄúChange asset‚Äù</strong> allows you to select an asset for rendering, analogous to
<code class="docutils literal notranslate"><span class="pre">name:t</span> <span class="pre">=</span> <span class="pre">...</span></code>.</p></li>
<li><p><strong>‚ÄúAdd entity‚Äù</strong> turns the node into a random entity, analogous to <code class="docutils literal notranslate"><span class="pre">ent{}</span></code>.</p></li>
<li><p><strong>‚ÄúAdd node‚Äù</strong> allows you to add a child node.</p></li>
<li><p><strong>‚ÄúDelete node‚Äù</strong> does exactly what it says.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Adding an asset hides the option to add an entity, and vice versa ‚Äì a node
cannot simultaneously contain both <code class="docutils literal notranslate"><span class="pre">name:t</span></code> and <code class="docutils literal notranslate"><span class="pre">ent{}</span></code>.</p></li>
<li><p>You can also delete a node using the <strong>Delete</strong> key, but in both cases,
confirmation is required.</p></li>
<li><p>Deleting a node will also remove all its child nodes since they are
technically nested within it (e.g., <code class="docutils literal notranslate"><span class="pre">node{node{}}</span></code>). Keep this in mind.</p></li>
</ul>
</div>
<p>If a node already contains an asset, you can open it by double-clicking. This is
useful when you need to edit a subcomposite. However, since there is currently
no history of recently opened assets, returning to the ‚Äúmain‚Äù composite will
only be possible by finding it again in the <strong>Asset Tree</strong>. Therefore, the
editor will ask for confirmation before switching to another asset.</p>
<section id="identifying-random-nodes">
<h3>Identifying Random Nodes<a class="headerlink" href="#identifying-random-nodes" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>A random node is displayed with the same icon as an empty node, but it will be
named <code class="docutils literal notranslate"><span class="pre">random</span></code> instead of <code class="docutils literal notranslate"><span class="pre">node</span></code>.</p>
<p>All possible entities are listed one level lower in the hierarchy.</p>
<p>Since a random node can have child nodes, this can cause significant confusion ‚Äì
these <em>children</em> are also displayed one level lower. To address this, all
<code class="docutils literal notranslate"><span class="pre">ent{}</span></code> entries are shown with an additional icon. The first icon represents an
empty node, while the second indicates the entity type.</p>
<p><img alt="Identifying Random Nodes" src="../../../_images/av_comp_edit_06.jpg" /></p>
<p>In the <code class="docutils literal notranslate"><span class="pre">.composit.blk</span></code> file, what is shown in the screenshot might look
something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="p">{</span>
  <span class="n">ent</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;table_a:rendinst&quot;</span><span class="p">}</span>
  <span class="n">ent</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;table_b:rendinst&quot;</span><span class="p">}</span>
  <span class="n">node</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;cup_a:rendinst&quot;</span><span class="p">}</span>
  <span class="n">ent</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">}</span>
  <span class="n">node</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">t</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To improve readability, I recommend adding all <code class="docutils literal notranslate"><span class="pre">ent{}</span></code> entries first, followed
by the child nodes. However, it will work either way.</p>
</section>
</section>
<section id="editor-properties">
<h2>Editor Properties<a class="headerlink" href="#editor-properties" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Do not confuse this with the <strong>Properties</strong> of the entire composite asset.</p>
<p><img alt="Editor Properties" src="../../../_images/av_comp_edit_07.jpg" /></p>
<p>This section contains the properties of the selected node, along with options to
save or revert changes.</p>
<section id="entities">
<h3>Entities<a class="headerlink" href="#entities" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This panel lists all <code class="docutils literal notranslate"><span class="pre">ent{}</span></code> nodes. Here, you can set the weight for existing
entities, change the asset (via a large button displaying the asset‚Äôs name, or
‚Äú‚Äì‚Äù if no asset is selected), and add a new entity to the end of the list using
the ‚Äú+‚Äù button. The context menu (accessed by the ‚Äú‚Ä¶‚Äù button) allows you to
add an entity after any existing one (instead of at the end of the list) or
delete the selected entity.</p>
</section>
<section id="children">
<h3>Children<a class="headerlink" href="#children" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>A similar panel exists for <em>child</em> nodes, although weight is not assigned here
for obvious reasons. This panel may be removed in the future, as it impacts the
performance of heavy composites (some buildings have thousands of <em>child</em>
nodes), and the same functionality is available through the Outliner.</p>
</section>
<section id="node-parameters">
<h3>Node Parameters<a class="headerlink" href="#node-parameters" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This section contains the properties of the selected node. To move the node, you
need to check the <strong>Use transformation matrix</strong> box, which corresponds to the
<code class="docutils literal notranslate"><span class="pre">tm:m=...</span></code> block. If this box is checked, you can edit the matrix in a
human-readable format:</p>
<p><img alt="Editor Properties" src="../../../_images/av_comp_edit_08.jpg" /></p>
</section>
<section id="add-parameters">
<h3>Add Parameters<a class="headerlink" href="#add-parameters" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Here, you can set additional parameters for the node. Since the transformation
matrix takes precedence over random offsets, attempting to add both will trigger
a warning, and the parameter fields will be locked for editing.</p>
<p><img alt="Editor Properties" src="../../../_images/av_comp_edit_09.jpg" /></p>
<p>To apply random transforms, you need to disable the matrix.</p>
</section>
<section id="composit">
<h3>Composit<a class="headerlink" href="#composit" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The <strong>Composit</strong> tab offers only two options ‚Äì <strong>cancel</strong> or <strong>save changes</strong>.
If you try to switch from the composite to another asset, the editor will also
ask how to handle the current changes.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visual-editing">
<h1>Visual Editing<a class="headerlink" href="#visual-editing" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Now we‚Äôve reached the interesting part. In addition to text-based editing, you
can make adjustments directly in the viewport. You can left-click on any object,
and the corresponding node will be selected in both the 3D view and the
Outliner. Pressing <strong>Z</strong> will center the camera on the selected node and zoom in
on it. Unfortunately, selecting multiple nodes simultaneously is not yet
supported. However, you can edit matrices using the gizmo.</p>
<p>When the <em>Composite Editor</em> is open, new icons appear in the toolbar:
<strong>Select</strong>, <strong>Move</strong>, <strong>Rotate</strong>, and <strong>Scale</strong>. Select is always active, but
for the other tools to have an effect, the transformation matrix must be enabled
for the selected node using the checkbox mentioned earlier. Random offsets
cannot be applied via the gizmo. These tools can be activated using the standard
hotkeys ‚Äî <strong>Q</strong>, <strong>W</strong>, <strong>E</strong>, and <strong>R</strong>, respectively.</p>
<p><img alt="Visual Editing" src="../../../_images/av_comp_edit_10.jpg" /></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Asset Viewer Composite Editor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../collision-generation/index.html" class="btn btn-neutral float-right" title="Collision Generation for Assets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2024.
      <span class="lastupdated">Last updated on Dec 31, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>